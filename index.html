<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>랜딩 페이지</title>
    <link rel="stylesheet" href="css/style.css?ver=1.0.1">
    <script src="js/device-redirect.js"></script>
    <style>
        /* 하단 고정바 스타일 코드가 여기서 제거되었습니다 - CSS 파일로 이동함 */
    </style>
</head>
<body>
    <main>
        <section id="section1" class="section1-bg">
            <div class="container section1-container">
                <div class="section1-content">
                    <div class="title-frame">
                        <h2 class="title">
                            추심에 시달리던<br>
                            30대 여성의<br>
                            마지막 선택
                        </h2>
                    </div>
                    <div class="list-frame">
                        <ul class="section1-list">
                            <li>생활고에 시달리던 30대 여성</li>
                            <li>이혼 후 홀로 양육하던 40대 남성</li>
                            <li>불법도박으로 빚이 늘어난 20대 남성</li>
                            <li>보이스피싱 사기를 당한 40대 여성</li>
                            <li>사업실패로 빚이 생긴 50대 남성</li>
                            <li>홀로 부모님을 부양하던 30대 남성</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        <section id="section2" class="section2-bg">
            <div class="container section2-container">
                <div class="section2-content">
                    <h2 class="section2-title">
                        채무가 <span class="highlight">늘어나는 원인</span>에는<br>
                        무엇이 있을까?
                    </h2>
                    <div class="bubble-container">
                        <img src="images/section2-bubble.png" alt="채무 원인 버블" class="section2-bubble">
                    </div>
                </div>
            </div>
        </section>
        <section id="section3" class="section3-bg">
            <div class="container section3-container">
                <div class="section3-content">
                    <h2 class="section3-title">
                        늘어나는 채무,<br>
                        막을 수 없는<br>
                        악순환의 반복
                    </h2>
                    <div class="diagram-container">
                        <img src="images/section3-diagram.png" alt="채무 악순환 다이어그램" class="section3-diagram">
                    </div>
                </div>
            </div>
        </section>
        <section id="section4" class="section4-bg">
            <div class="container section4-container">
                <div class="section4-content">
                    <div class="section4-title">
                        <img src="images/section4-title.png" alt="선택" class="section4-title-img">
                    </div>
                    <div class="vertical-line"></div>
                </div>
            </div>
            <div class="section4-frame">
                <img src="images/section4-bg.png" alt="배경 이미지" class="section4-frame-bg">
                <div class="frame-content">
                    <h2 class="frame-title">
                        한줄기 빛, 개인회생을!
                    </h2>
                    <div class="frame-wrap">
                        <div class="frame-text">
                            빚이<br>
                            <div class="green-box">빛으로 바뀌는건</div>
                            <span class="text-highlight">한 끗 차이.</span>
                        </div>
                        <div class="frame-box">
                            <div class="box-top">개인회생이란</div>
                            <div class="box-bottom">
                                계속해서 수입을 얻을 가능성이 있는 자가<br>
                                3년간 일정한 금액을 변제하면<br>
                                나머지 채무를 면제받을 수 있는 제도
                            </div>
                        </div>
                    </div>
                    <div class="large-box">
                        <h3 class="large-box-title">
                            그런데,<br>
                            개인회생은 <span class="highlight-text">어떻게 진행</span>해야할까?
                        </h3>
                        <div class="graphic-container">
                            <img src="images/section4-3dgraphic.png" alt="진행 과정 3D 그래픽" class="graphic-img">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="section5" class="section5-bg">
            <div class="container section5-container">
                <div class="section5-content">
                    <div class="section5-title-frame">
                        <h2 class="section5-title">
                            그래서, 난 <span class="highlight-text">법무법인 로앤</span>을 선택했다
                        </h2>
                    </div>
                    <div class="section5-content-frame">
                        <h3 class="content-subtitle">도산전문 법무법인 로앤의 장점 3가지</h3>
                        <div class="content-boxes">
                            <div class="content-box">
                                <span class="box-number">하나,</span>
                                <div class="box-text">채권추심<br>고객님 대신 응대</div>
                            </div>
                            <div class="content-box">
                                <span class="box-number">둘,</span>
                                <div class="box-text">수임료 3개월<br>분납 가능</div>
                            </div>
                            <div class="content-box">
                                <span class="box-number">셋,</span>
                                <div class="box-text">13년 이상의<br>회생파산 경력</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="section6" class="section6-bg">
        </section>
        <section id="section7" class="section7-bg">
            <div class="container section7-container">
                <div class="section7-content">
                    <div class="section7-sub-title">
                        고객이 직접 증명하는 로앤의 실력
                    </div>
                    <div class="section7-main-title">
                        법무법인 로앤을 만나 새롭게 얻은 기회
                    </div>
                    <div class="section7-content-area">
                        <img src="images/section7-phone.png" alt="로앤 앱 화면" class="section7-phone">
                        <img src="images/section7-review.png" alt="고객 리뷰" class="section7-review">
                    </div>
                </div>
            </div>
        </section>
        <section id="section8" class="section8-bg">
            <div class="container section8-container">
                <div class="section8-content">
                    <div class="contents1">
                        <span class="contents1-title">나도 진행이 될까?</span><br>
                        <br>
                        <span class="contents1-subtitle">고민은<br>
                        추심만 늘릴뿐!</span><br>
                        <span class="contents1-text">로앤에서 상담받고<br>
                        추심에서 벗어나세요.</span>
                    </div>
                    <div class="consultation-box">
                        <h3 class="consultation-title">법무법인 로앤</h3>
                        <h4 class="consultation-subtitle">실시간 1:1 상담신청</h4>
                        <form class="consultation-form">
                            <select class="form-select">
                                <option value="" disabled selected>거주지역 선택</option>
                                <option value="서울">서울</option>
                                <option value="인천">인천</option>
                                <option value="세종">세종</option>
                                <option value="대전">대전</option>
                                <option value="대구">대구</option>
                                <option value="울산">울산</option>
                                <option value="광주">광주</option>
                                <option value="부산">부산</option>
                                <option value="제주">제주</option>
                                <option value="강원도">강원도</option>
                                <option value="경기도">경기도</option>
                                <option value="충청북도">충청북도</option>
                                <option value="충청남도">충청남도</option>
                                <option value="경상북도">경상북도</option>
                                <option value="경상남도">경상남도</option>
                                <option value="전라북도">전라북도</option>
                                <option value="전라남도">전라남도</option>
                            </select>
                            <input type="tel" pattern="[0-9]*" inputmode="numeric" placeholder="연락처 입력 (-없이 숫자만)" class="form-input" maxlength="11">
                            <label class="checkbox-label">
                                <input type="checkbox" class="form-checkbox">
                                <span class="checkbox-text">개인정보 수집 동의</span>
                            </label>
                            <button type="button" class="submit-button" onclick="
                                const section8Select = document.querySelector('.form-select');
                                const section8Input = document.querySelector('.form-input');
                                const section8Checkbox = document.querySelector('.form-checkbox');
                                
                                if(!section8Select.value && !section8Input.value) {
                                    showAlertModal('입력란을 채워주세요.');
                                } else if(!section8Select.value) {
                                    showAlertModal('입력란을 채워주세요.');
                                } else if(!section8Input.value) {
                                    showAlertModal('입력란을 채워주세요.');
                                } else if(!section8Checkbox.checked) {
                                    showAlertModal('개인정보 수집 동의에 체크해주세요.');
                                } else {
                                    showAlertModal('상담신청이 완료되었습니다.');
                                }
                            ">상담신청하기</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-info">
                <div class="footer-title">법무법인 로앤</div>
                <div class="info-section">
                    <div class="company-info">
                    대표변호사 : 김충환  ㅣ  법인등록번호 : 110146-0091058  ㅣ  영업시간 : 월-금 오전8시-오후7시
                    </div>
                    <div class="address">
                    서울 주사무소 : 서울특별시 강남구 논현로87길 25 HB타워 3,4층  ㅣ  Tel. 1670-8480
                    </div>
                    <div class="branch-office">
                    대전 분사무소 : 대전광역시 서구 둔산중로78번길 26 민석타워 14층  ㅣ  Tel. 1566-8401
                    </div>
                    <div class="branch-office">
                    부산 분사무소 : 부산광역시 연제구 법원로 38 로펌빌딩 401호  ㅣ  Tel. 1566-8406
                    </div>
                </div>
                <div class="copyright">
                Copyright 2014. Law&Ban All Right Reserved.
                </div>
            </div>
            <div class="footer-logo">
                <img src="images/footer-logo.png" alt="법무법인 로앤">
            </div>
        </div>
    </footer>
    <div class="fixed-bar">
        <div class="fixed-bar-content">
            <div class="section call-section">
                <span class="title">실시간 상담</span> <span class="phone-number">1800-5495</span>
            </div>
            <div class="section button-section">
                <button type="button" class="submit-button" onclick="window.open('/revivalevent-test/consult', '_blank');">1:1 실시간 상담신청</button>
            </div>
            <div class="section" style="flex: 0;">
                <button class="kakao-button" onclick="showKakaoModal()">
                    <img src="images/kakao.svg" alt="카카오톡 아이콘" width="22" height="22">
                    카카오톡 상담
                </button>
            </div>
        </div>
    </div>
    
    <!-- 모달 알림창 -->
    <div id="alert-modal" class="alert-modal">
        <div class="alert-modal-content">
            <p id="alert-message">입력란을 채워주세요.</p>
            <button id="alert-close-btn">확인</button>
        </div>
    </div>
    
    <!-- 카카오톡 상담 모달 -->
    <div id="kakao-modal" class="kakao-modal">
        <div class="kakao-modal-overlay"></div>
        <div class="kakao-modal-content">
            <div class="kakao-modal-header">
                <h3>카카오톡 상담문의</h3>
                <button id="kakao-modal-close" class="kakao-modal-close">×</button>
            </div>
            <div class="kakao-modal-body">
                <p>상담받을 사무실을 선택해 주세요.</p>
                <div class="kakao-button-group">
                    <button class="kakao-office-btn" data-url="https://pf.kakao.com/_AeGxoxl">서울 카톡상담 @법무법인 로앤</button>
                    <button class="kakao-office-btn" data-url="https://pf.kakao.com/_lLGxoxl">대전 카톡상담 @법무법인로앤_대전</button>
                    <button class="kakao-office-btn" data-url="https://pf.kakao.com/_xeLGxoxl">부산 카톡상담 @법무법인로앤_부산</button>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        /* 모달 알림창 스타일 */
        .alert-modal {
            display: none;
            position: fixed;
            z-index: 10000000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .alert-modal.show {
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        .alert-modal-content {
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            width: 80%;
            max-width: 300px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: modalPop 0.3s ease-out;
            transform: translateY(0) !important;
            opacity: 1 !important;
        }
        
        @keyframes modalPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .alert-modal-content p {
            margin-bottom: 20px;
            font-size: 18px;
            color: #333333;
            font-weight: bold;
        }
        
        #alert-close-btn {
            background-color: #0B623B;
            color: #FFFFFF;
            border: none;
            border-radius: 5px;
            padding: 12px 24px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            max-width: 200px;
        }
        
        /* 카카오톡 상담 모달 스타일 */
        .kakao-modal {
            display: none;
            position: fixed;
            z-index: 999999999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: auto;
            overflow: auto;
        }
        
        .kakao-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999999998;
        }
        
        .kakao-modal-content {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background-color: #FFFFFF;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            z-index: 999999999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            animation: kakaoModalPop 0.3s ease-out;
        }
        
        /* 카카오 모달용 별도 애니메이션 */
        @keyframes kakaoModalPop {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        
        .kakao-modal-header {
            padding: 25px;
            border-bottom: 1px solid #E6E6E6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .kakao-modal-header h3 {
            margin: 0;
            font-size: 20px;
            font-weight: bold;
            color: #333333;
        }
        
        .kakao-modal-close {
            background: none;
            border: none;
            font-size: 32px;
            color: #000000;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .kakao-modal-body {
            padding: 25px;
        }
        
        .kakao-modal-body p {
            margin: 0 0 25px 0;
            font-size: 18px;
            color: #000000;
            text-align: center;
        }
        
        .kakao-button-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .kakao-office-btn {
            background-color: #5EB38B;
            border: none;
            border-radius: 10px;
            padding: 18px;
            font-family: 'Gmarket Sans';
            font-size: 16px;
            font-weight: 550;
            color: #ffffff;
            cursor: pointer;
            width: 100%;
            text-align: center;
            transition: background-color 0.3s;
        }
        
        .kakao-office-btn:hover {
            background-color: #188853;
        }
    </style>
    
    <script>
        // 숫자만 입력 가능하도록 제어 - section8 연락처 입력란
        document.querySelector('.form-input').addEventListener('input', function(e) {
            e.target.value = e.target.value.replace(/[^0-9]/g, '');
        });

        // 붙여넣기할 때도 숫자만 허용 - section8 연락처 입력란
        document.querySelector('.form-input').addEventListener('paste', function(e) {
            e.preventDefault();
            const pastedText = (e.clipboardData || window.clipboardData).getData('text');
            e.target.value = pastedText.replace(/[^0-9]/g, '');
        });
        
        // 카카오톡 채팅 열기 함수 (전역)
        function openKakaoChat() {
            // 카카오톡 채팅 URL
            const kakaoUrl = 'https://pf.kakao.com/_Qmxexixl';
            window.open(kakaoUrl, '_blank');
        }
        
        // 전역 변수 선언
        let alertModal, alertMessage, alertCloseBtn;
        let kakaoModal;
        
        // 모달 표시 함수 (전역)
        function showAlertModal(message) {
            // 이미 모달이 초기화되어 있는지 확인
            if (!alertModal) {
                alertModal = document.getElementById('alert-modal');
                alertMessage = document.getElementById('alert-message');
                alertCloseBtn = document.getElementById('alert-close-btn');
            }
            
            // 메시지 설정
            alertMessage.textContent = message;
            
            // 모달 표시
            alertModal.style.display = 'flex';
            alertModal.classList.add('show');
            
            // 모달이 확실히 보이도록 타임아웃 추가
            setTimeout(() => {
                if (alertModal.style.display !== 'flex') {
                    alertModal.style.display = 'flex';
                }
            }, 100);
            
            console.log('모달 표시됨:', message);
            
            // 모바일 환경에서 스크롤 방지
            document.body.style.overflow = 'hidden';
            
            return false;
        }
        
        // 모달 닫기 함수 (전역)
        function closeAlertModal() {
            if (!alertModal) {
                alertModal = document.getElementById('alert-modal');
            }
            
            alertModal.style.display = 'none';
            alertModal.classList.remove('show');
            
            // 스크롤 복원
            document.body.style.overflow = '';
            
            console.log('모달 닫힘');
            
            return false;
        }
        
        // 카카오톡 모달 표시 함수 - 전역 변수로 수정
        function showKakaoModal() {
            console.log('showKakaoModal 함수 호출됨');
            
            // 먼저 모달 요소 초기화
            kakaoModal = document.getElementById('kakao-modal');
            
            if (!kakaoModal) {
                console.error('카카오톡 모달을 찾을 수 없습니다.');
                return;
            }
            
            // 모달 콘텐츠 요소가 준비되었는지 확인
            const modalContent = kakaoModal.querySelector('.kakao-modal-content');
            if (modalContent) {
                // 애니메이션이 끝나도 위치가 유지되도록 명시적으로 스타일 설정
                modalContent.style.opacity = "0";
                modalContent.style.transform = "translate(-50%, -50%) scale(0.8)";
            }
            
            console.log('카카오 모달 요소 찾음:', kakaoModal);
            
            // 모달 표시 설정
            kakaoModal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // 레이아웃 계산 강제 실행 후 애니메이션 적용
            setTimeout(() => {
                if (modalContent) {
                    modalContent.style.opacity = "1";
                    modalContent.style.transform = "translate(-50%, -50%) scale(1)";
                }
            }, 10);
            
            console.log('카카오 모달 표시 설정 완료');
        }
        
        // 카카오톡 모달 닫기 함수
        function closeKakaoModal() {
            console.log('closeKakaoModal 함수 호출됨');
            
            if (!kakaoModal) {
                kakaoModal = document.getElementById('kakao-modal');
            }
            
            if (!kakaoModal) {
                console.error('카카오톡 모달을 찾을 수 없습니다.');
                return;
            }
            
            kakaoModal.style.display = 'none';
            document.body.style.overflow = '';
            
            console.log('카카오 모달 닫힘');
        }
        
        // 페이지 로드 시 실행
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM 로드됨');
            
            // 모달 요소 초기화
            alertModal = document.getElementById('alert-modal');
            alertMessage = document.getElementById('alert-message');
            alertCloseBtn = document.getElementById('alert-close-btn');
            
            // 카카오톡 모달 관련
            kakaoModal = document.getElementById('kakao-modal');
            const kakaoCloseBtn = document.getElementById('kakao-modal-close');
            
            console.log('카카오 모달 요소:', kakaoModal);
            console.log('카카오 모달 닫기 버튼:', kakaoCloseBtn);
            
            // 모달 닫기 이벤트
            if (alertCloseBtn) {
                alertCloseBtn.addEventListener('click', closeAlertModal);
            }
            
            // 카카오톡 모달 닫기 버튼 이벤트
            if (kakaoCloseBtn) {
                kakaoCloseBtn.addEventListener('click', closeKakaoModal);
                console.log('카카오 모달 닫기 버튼에 이벤트 리스너 추가됨');
            }
            
            // 모달 외부 클릭시 닫기
            if (alertModal) {
                alertModal.addEventListener('click', function(e) {
                    if (e.target === alertModal) {
                        closeAlertModal();
                    }
                });
            }
            
            // 카카오 모달 외부 클릭시 닫기
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('kakao-modal-overlay')) {
                    closeKakaoModal();
                    console.log('오버레이 클릭으로 카카오 모달 닫힘');
                }
            });
            
            // 카카오톡 버튼 클릭 이벤트 (주석 처리 - 인라인 onclick 이벤트로 대체)
            /*
            const kakaoButtons = document.querySelectorAll('.kakao-button');
            kakaoButtons.forEach(button => {
                button.addEventListener('click', function() {
                    showKakaoModal();
                });
            });
            */
            
            // 카카오 오피스 버튼 클릭 이벤트 (모달 내부)
            const kakaoOfficeButtons = document.querySelectorAll('.kakao-office-btn');
            kakaoOfficeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    if (url) {
                        window.open(url, '_blank');
                    }
                    closeKakaoModal();
                });
            });
            
            console.log('모든 이벤트 리스너 등록 완료');
        });
        
        // 전역 스코프에서도 초기화 시도
        window.onload = function() {
            console.log('window onload');
            kakaoModal = document.getElementById('kakao-modal');
            console.log('window.onload에서 카카오 모달 요소:', kakaoModal);
            
            // 카카오 버튼에 직접 이벤트 리스너 추가
            document.querySelector('.kakao-button').onclick = function() {
                console.log('카카오 버튼 직접 클릭됨');
                showKakaoModal();
                return false;
            };
        };
        
        // 직접 전역 함수로 추가
        window.showKakaoModal = showKakaoModal;
        window.closeKakaoModal = closeKakaoModal;
    </script>
</body>
</html>